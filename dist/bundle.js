(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var t,n,r,a,o,l,c,u,i,s,d,m,v,f,g,p,h,y,E,S,q,L,b,A,I,w,C,x,B,k,j,T,D,M,$,O,F,_,z;M=document.querySelector("#timer-hours"),$=document.querySelector("#timer-minutes"),O=document.querySelector("#timer-seconds"),F=0,_=function(e){return 1===String(e).length?"0"+e:String(e)},(z=function(){var e,t,n,r,a=(t=0,n=0,r=0,(e=(new Date("9 July 2021").getTime()-(new Date).getTime())/1e3)>0&&(t=Math.floor(e%60),n=Math.floor(e/60%60),r=Math.floor(e/60/60)),{timeRemaining:e,hours:r,minutes:n,seconds:t});M.textContent=_(a.hours),$.textContent=_(a.minutes),O.textContent=_(a.seconds),a.timeRemaining<0&&clearInterval(F)})(),F=setInterval(z,1e3),function(){var t,n=function(t,n){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){r&&(t=r);var a=0,o=function(){};return{s:o,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var e=r.next();return c=e.done,e},e:function(e){u=!0,l=e},f:function(){try{c||null==r.return||r.return()}finally{if(u)throw l}}}}(document.querySelectorAll('a[href^="#"]'));try{var r=function(){var e=t.value;e.addEventListener("click",(function(t){t.preventDefault();var n=e.getAttribute("href");document.querySelector(n).scrollIntoView({behavior:"smooth",block:"start"})}))};for(n.s();!(t=n.n()).done;)r()}catch(e){n.e(e)}finally{n.f()}}(),document.body.addEventListener("click",(function(e){var t=e.target;(t.closest(".menu")||!t.closest("menu")&&document.querySelector("menu").classList.contains("active-menu")||t.closest("menu")&&t.closest('[href^="#"]'))&&document.querySelector("menu").classList.toggle("active-menu")})),B=document.querySelector(".popup"),k=document.querySelectorAll(".popup-btn"),j=document.querySelector(".popup-content"),T={count:-500,speed:8,start:-500,end:0},D=function e(){T.start>T.end?T.count-=T.speed:T.count+=T.speed,j.style.transform="translate(".concat(T.count,"px)"),(T.start>T.end?T.count>T.end:T.count<T.end)&&requestAnimationFrame(e)},k.forEach((function(e){e.addEventListener("click",(function(){B.style.display="block",screen.width>768?(T.count=T.start,requestAnimationFrame(D)):(T.start=0,T.count=0)}))})),B.addEventListener("click",(function(e){var t=e.target;t.classList.contains("popup-close")?B.style.display="none":(t=t.closest(".popup-content"))||(B.style.display="none")})),w=document.querySelector(".service-header"),C=w.querySelectorAll(".service-header-tab"),x=document.querySelectorAll(".service-tab"),w.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&C.forEach((function(e,n){e===t&&function(e){for(var t=0;t<x.length;t++)e===t?(C[t].classList.add("active"),x[t].classList.remove("d-none")):(C[t].classList.remove("active"),x[t].classList.add("d-none"))}(n)}))})),A=document.querySelectorAll(".portfolio-item"),I=document.querySelector(".portfolio-dots"),A.forEach((function(){var e=document.createElement("li");e.classList.add("dot"),I.appendChild(e)})),I.children[0].classList.add("dot-active"),p=document.querySelectorAll(".portfolio-item"),h=document.querySelectorAll(".dot"),y=document.querySelector(".portfolio-content"),E=0,S=function(e,t,n){e[t].classList.remove(n)},q=function(e,t,n){e[t].classList.add(n)},L=function(){S(p,E,"portfolio-item-active"),S(h,E,"dot-active"),++E>=p.length&&(E=0),q(p,E,"portfolio-item-active"),q(h,E,"dot-active")},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;g=setInterval(L,e)},y.addEventListener("click",(function(e){e.preventDefault();var t=e.target;t.matches(".portfolio-btn, .dot")&&(S(p,E,"portfolio-item-active"),S(h,E,"dot-active"),t.matches("#arrow-right")?E++:t.matches("#arrow-left")?E--:t.matches(".dot")&&h.forEach((function(e,n){e===t&&(E=n)})),E>=p.length&&(E=0),E<0&&(E=p.length-1),q(p,E,"portfolio-item-active"),q(h,E,"dot-active"))})),y.addEventListener("mouseover",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(g)})),y.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&b()})),b(1500),document.querySelectorAll(".command__photo").forEach((function(e){e.addEventListener("mouseenter",(function(e){var t=e.target.src;e.target.src=e.target.dataset.img,e.target.dataset.img=t})),e.addEventListener("mouseleave",(function(e){var t=e.target.src;e.target.src=e.target.dataset.img,e.target.dataset.img=t}))})),document.querySelectorAll("input.calc-item").forEach((function(e){e.addEventListener("input",(function(){this.value=this.value.replace(/[^\d]/g,"")}))})),n=document.querySelector(".mess"),r=document.getElementById("form1-name"),a=document.getElementById("form1-email"),o=document.getElementById("form1-phone"),l=document.getElementById("form2-name"),c=document.getElementById("form2-email"),u=document.getElementById("form2-phone"),i=document.getElementById("form3-name"),s=document.getElementById("form3-email"),d=document.getElementById("form3-phone"),m=function(e){e.addEventListener("blur",(function(e){e.target.value=e.target.value.replace(/( \s+)(^\s*$)/gi,""),e.target.value=e.target.value.split(" ").filter((function(e){return e})).join(" "),e.target.value=e.target.value.replaceAll(e.target.value.match(/-+/),"-"),e.target.value=e.target.value.replaceAll(e.target.value.match(/ +/)," ")})),e.addEventListener("input",(function(e){e.target.value=e.target.value.replace(/[^+\d () -]/g,"")}))},v=function(e){e.addEventListener("blur",(function(e){e.target.value=e.target.value.replace(/( \s+)(^\s*$)/gi,""),e.target.value=e.target.value.split(" ").filter((function(e){return e})).join(" "),e.target.value=e.target.value.replaceAll(e.target.value.match(/-+/),"-"),e.target.value=e.target.value.replaceAll(e.target.value.match(/ +/)," ")})),e.addEventListener("input",(function(e){e.target.value=e.target.value.replace(/[^a-z@-_.!~*']/gi,"")}))},f=function(e){e.addEventListener("blur",(function(e){e.target.value=e.target.value.replace(/( \s+)(^\s*$)/gi,""),e.target.value=e.target.value.split(" ").filter((function(e){return e})).join(" "),e.target.value=e.target.value.replaceAll(e.target.value.match(/-+/),"-"),e.target.value=e.target.value.replaceAll(e.target.value.match(/ +/)," "),e.target.value&&(e.target.value=e.target.value.split(" ").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join(" "))})),e.addEventListener("input",(function(e){e.target.value=e.target.value.replace(/[^а-яё -]/gi,"")}))},n.addEventListener("blur",(function(e){e.target.value=e.target.value.replace(/( \s+)(^\s*$)/gi,""),e.target.value=e.target.value.split(" ").filter((function(e){return e})).join(" "),e.target.value=e.target.value.replaceAll(e.target.value.match(/-+/),"-"),e.target.value=e.target.value.replaceAll(e.target.value.match(/ +/)," ")})),n.addEventListener("input",(function(e){e.target.value=e.target.value.replace(/[^а-яё -,.:;()!?"]/gi,"")})),f(r),f(l),f(i),v(a),v(c),v(s),m(o),m(u),m(d),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),r=document.querySelector(".calc-square"),a=document.querySelector(".calc-day"),o=document.querySelector(".calc-count"),l=document.getElementById("total"),c=function(){var t=0,c=1,u=1,i=n.options[n.selectedIndex].value,s=+r.value;console.log(i),o.value>1&&(c+=(o.value-1)/10),a.value&&a.value<5?u*=2:a.value&&a.value<10&&(u*=1.5),i&&s&&(t=Math.floor(e*i*s*c*u)),l.textContent=t};t.addEventListener("change",(function(e){var t=e.target;(t.matches("select")||t.matches("input"))&&c()}))}(100),(t=function(e){var t=document.getElementById(e),n=document.createElement("div");n.style.cssText="font-size: 2rem; color: #fff",t.appendChild(n),t.addEventListener("submit",(function(r){r.preventDefault();var a=function(e){var t=e.querySelector(".form-name"),n=e.querySelector(".form-email"),r=e.querySelector(".form-phone"),a=[];return t.value.length<2?a.push("Имя должно быть больше 2 символов"):n.value.length<4?a.push("Неправильно введен email"):r.value.length<6&&a.push("Телефон не может быть короче 6 символов"),a}(t);if(0===a.length){var o=new FormData(t),l={};n.textContent="Загрузка...",o.forEach((function(e,t){l[t]=e})),function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}(l).then((function(t){if(200!==t.status)throw new Error("status network not 200");n.textContent="Спасибо! Мы с вами свяжемся!",document.getElementById(e).reset()})).catch((function(e){console.error(e),n.textContent="Что то пошло не так..."}))}else n.textContent=a[0],setTimeout((function(){n.textContent=""}),3e3)}))})("form1"),t("form2"),t("form3")})();