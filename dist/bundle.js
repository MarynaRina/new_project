(() => {  function e(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = new Array(t); n < t; n++)r[n] = e[n]; return r; } let t, n, r, a, o, c, l, u, i, s, d, m, v, f, g, p, h, y, E, S, L, b, q, A, I, w, B, C, x, k, j, D, T, M, $, O, F, _, z; M = document.querySelector("#timer-hours"), $ = document.querySelector("#timer-minutes"), O = document.querySelector("#timer-seconds"), F = 0, _ = function(e) { return 1 === String(e).length ? "0" + e : String(e); }, (z = function() { let e, t, n, r, a = (t = 0, n = 0, r = 0, (e = (new Date("6 July 2021").getTime() - (new Date()).getTime()) / 1e3) > 0 && (t = Math.floor(e % 60), n = Math.floor(e / 60 % 60), r = Math.floor(e / 60 / 60)), { timeRemaining: e, hours: r, minutes: n, seconds: t }); M.textContent = _(a.hours), $.textContent = _(a.minutes), O.textContent = _(a.seconds), a.timeRemaining < 0 && clearInterval(F); })(), F = setInterval(z, 1e3), function() { let t, n = function(t, n) { let r = "undefined" !== typeof Symbol && t[Symbol.iterator] || t["@@iterator"]; if (!r) { if (Array.isArray(t) || (r = function(t, n) { if (t) { if ("string" === typeof t) return e(t, n); let r = Object.prototype.toString.call(t).slice(8, -1); return "Object" === r && t.constructor && (r = t.constructor.name), "Map" === r || "Set" === r ? Array.from(t) : "Arguments" === r || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r) ? e(t, n) : void 0; } }(t)) || n && t && "number" === typeof t.length) { r && (t = r); let a = 0, o = function() {}; return { s: o, n() { return a >= t.length ? { done: !0 } : { done: !1, value: t[a++] }; }, e(e) { throw e; }, f: o }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } let c, l = !0, u = !1; return { s() { r = r.call(t); }, n() { const e = r.next(); return l = e.done, e; }, e(e) { u = !0, c = e; }, f() { try { l || null == r.return || r.return(); } finally { if (u) throw c; } } }; }(document.querySelectorAll('a[href^="#"]')); try { const r = function() { const e = t.value; e.addEventListener("click", (t => { t.preventDefault(); const n = e.getAttribute("href"); document.querySelector(n).scrollIntoView({ behavior: "smooth", block: "start" }); })); }; for (n.s(); !(t = n.n()).done;)r(); } catch (e) { n.e(e); } finally { n.f(); } }(), document.body.addEventListener("click", (e => { const t = e.target; (t.closest(".menu") || !t.closest("menu") && document.querySelector("menu").classList.contains("active-menu") || t.closest("menu") && t.closest('[href^="#"]')) && document.querySelector("menu").classList.toggle("active-menu"); })), x = document.querySelector(".popup"), k = document.querySelectorAll(".popup-btn"), j = document.querySelector(".popup-content"), D = { count: -500, speed: 8, start: -500, end: 0 }, T = function e() { D.start > D.end ? D.count -= D.speed : D.count += D.speed, j.style.transform = "translate(".concat(D.count, "px)"), (D.start > D.end ? D.count > D.end : D.count < D.end) && requestAnimationFrame(e); }, k.forEach((e => { e.addEventListener("click", (() => { x.style.display = "block", screen.width > 768 ? (D.count = D.start, requestAnimationFrame(T)) : (D.start = 0, D.count = 0); })); })), x.addEventListener("click", (e => { let t = e.target; t.classList.contains("popup-close") ? x.style.display = "none" : (t = t.closest(".popup-content")) || (x.style.display = "none"); })), w = document.querySelector(".service-header"), B = w.querySelectorAll(".service-header-tab"), C = document.querySelectorAll(".service-tab"), w.addEventListener("click", (e => { let t = e.target; (t = t.closest(".service-header-tab")) && B.forEach(((e, n) => { e === t && function(e) { for (let t = 0; t < C.length; t++)e === t ? (B[t].classList.add("active"), C[t].classList.remove("d-none")) : (B[t].classList.remove("active"), C[t].classList.add("d-none")); }(n); })); })), A = document.querySelectorAll(".portfolio-item"), I = document.querySelector(".portfolio-dots"), A.forEach((() => { const e = document.createElement("li"); e.classList.add("dot"), I.appendChild(e); })), I.children[0].classList.add("dot-active"), p = document.querySelectorAll(".portfolio-item"), h = document.querySelectorAll(".dot"), y = document.querySelector(".portfolio-content"), E = 0, S = function(e, t, n) { e[t].classList.remove(n); }, L = function(e, t, n) { e[t].classList.add(n); }, b = function() { S(p, E, "portfolio-item-active"), S(h, E, "dot-active"), ++E >= p.length && (E = 0), L(p, E, "portfolio-item-active"), L(h, E, "dot-active"); }, q = function() { const e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 2e3; g = setInterval(b, e); }, y.addEventListener("click", (e => { e.preventDefault(); const t = e.target; t.matches(".portfolio-btn, .dot") && (S(p, E, "portfolio-item-active"), S(h, E, "dot-active"), t.matches("#arrow-right") ? E++ : t.matches("#arrow-left") ? E-- : t.matches(".dot") && h.forEach(((e, n) => { e === t && (E = n); })), E >= p.length && (E = 0), E < 0 && (E = p.length - 1), L(p, E, "portfolio-item-active"), L(h, E, "dot-active")); })), y.addEventListener("mouseover", (e => { (e.target.matches(".portfolio-btn") || e.target.matches(".dot")) && clearInterval(g); })), y.addEventListener("mouseout", (e => { (e.target.matches(".portfolio-btn") || e.target.matches(".dot")) && q(); })), q(1500), document.querySelectorAll(".command__photo").forEach((e => { e.addEventListener("mouseenter", (e => { const t = e.target.src; e.target.src = e.target.dataset.img, e.target.dataset.img = t; })), e.addEventListener("mouseleave", (e => { const t = e.target.src; e.target.src = e.target.dataset.img, e.target.dataset.img = t; })); })), document.querySelectorAll("input.calc-item").forEach((e => { e.addEventListener("input", (function() { this.value = this.value.replace(/[^\d]/g, ""); })); })), n = document.querySelector(".mess"), r = document.getElementById("form1-name"), a = document.getElementById("form1-email"), o = document.getElementById("form1-phone"), c = document.getElementById("form2-name"), l = document.getElementById("form2-email"), u = document.getElementById("form2-phone"), i = document.getElementById("form3-name"), s = document.getElementById("form3-email"), d = document.getElementById("form3-phone"), m = function(e) { e.addEventListener("blur", (e => { e.target.value = e.target.value.replace(/( \s+)(^\s*$)/gi, ""), e.target.value = e.target.value.split(" ").filter((e => e)).join(" "), e.target.value = e.target.value.replaceAll(e.target.value.match(/-+/), "-"), e.target.value = e.target.value.replaceAll(e.target.value.match(/ +/), " "); })), e.addEventListener("input", (e => { e.target.value = e.target.value.replace(/[^+\d () -]/g, ""); })); }, v = function(e) { e.addEventListener("blur", (e => { e.target.value = e.target.value.replace(/( \s+)(^\s*$)/gi, ""), e.target.value = e.target.value.split(" ").filter((e => e)).join(" "), e.target.value = e.target.value.replaceAll(e.target.value.match(/-+/), "-"), e.target.value = e.target.value.replaceAll(e.target.value.match(/ +/), " "); })), e.addEventListener("input", (e => { e.target.value = e.target.value.replace(/[^a-z@-_.!~*']/gi, ""); })); }, f = function(e) { e.addEventListener("blur", (e => { e.target.value = e.target.value.replace(/( \s+)(^\s*$)/gi, ""), e.target.value = e.target.value.split(" ").filter((e => e)).join(" "), e.target.value = e.target.value.replaceAll(e.target.value.match(/-+/), "-"), e.target.value = e.target.value.replaceAll(e.target.value.match(/ +/), " "), e.target.value && (e.target.value = e.target.value.split(" ").map((e => e[0].toUpperCase() + e.slice(1))).join(" ")); })), e.addEventListener("input", (e => { e.target.value = e.target.value.replace(/[^а-яё -]/gi, ""); })); }, n.addEventListener("blur", (e => { e.target.value = e.target.value.replace(/( \s+)(^\s*$)/gi, ""), e.target.value = e.target.value.split(" ").filter((e => e)).join(" "), e.target.value = e.target.value.replaceAll(e.target.value.match(/-+/), "-"), e.target.value = e.target.value.replaceAll(e.target.value.match(/ +/), " "); })), n.addEventListener("input", (e => { e.target.value = e.target.value.replace(/[^а-яё -,.:;()!?"]/gi, ""); })), f(r), f(c), f(i), v(a), v(l), v(s), m(o), m(u), m(d), function() { const e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 100, t = document.querySelector(".calc-block"), n = document.querySelector(".calc-type"), r = document.querySelector(".calc-square"), a = document.querySelector(".calc-day"), o = document.querySelector(".calc-count"), c = document.getElementById("total"), l = function() { let t = 0, l = 1, u = 1, i = n.options[n.selectedIndex].value, s = +r.value; console.log(i), o.value > 1 && (l += (o.value - 1) / 10), a.value && a.value < 5 ? u *= 2 : a.value && a.value < 10 && (u *= 1.5), i && s && (t = Math.floor(e * i * s * l * u)), c.textContent = t; }; t.addEventListener("change", (e => { const t = e.target; (t.matches("select") || t.matches("input")) && l(); })); }(100), (t = function(e) { const t = document.getElementById(e), n = document.createElement("div"); n.style.cssText = "font-size: 2rem; color: #fff", t.addEventListener("submit", (r => { const a = new FormData(t), o = {}; r.preventDefault(), t.appendChild(n), n.textContent = "Загрузка...", a.forEach(((e, t) => { o[t] = e; })), function(e) { return fetch("./server.php", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify(e) }); }(o).then((t => { if (200 !== t.status) throw new Error("status network not 200"); n.textContent = "Спасибо! Мы с вами свяжемся!", document.getElementById(e).reset(); })).catch((e => { console.error(e), n.textContent = "Что то пошло не так..."; })); })); })("form1"), t("form2"), t("form3"); })();
